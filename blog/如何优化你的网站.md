title: 如何优化你的网站
---
最近读了一本书[速度与激情：以网站性能提升用户体验](www.ituring.com.cn/book/1572)，这本书讲了许多优化网站访问速度的方法，包括图片的优化，HTML和css的优化等等，大家知道访问速度对于一个商业网站意味着什么。提高网站的访问速度，意味着你能留住更多的顾客。接下来我就把这本书的精华呈现给大家。接好咯<(￣︶￣)>！

### 图片优化
##### 压缩
压缩不必要的高清图，要知道体积巨大的图片是非常影响访问速度的，在图片质量和大小之间做好权衡，最好选择体积最小又不影响图片质量的压缩方案。

##### 精灵图
将网站的一些小logo和小图片合并在一张精灵图中，这样可以有效的减少浏览器对图片的请求次数，提升网站的访问速度。

##### 替换
如果图片是简单的几何图片，可以考虑使用CSS，dataURI和svg来换它，这样不仅减小图片提交，还可以获得高质量的矢量图片。

### 优化HTML和CSS
##### 简化HTML
简化HTML也能有效提升网站访问速度：
1. 避免标签过度嵌套。
2. 避免使用内嵌和行内样式（及高效复用css）。
3. 删除过期的和无效的注释。
4. 多使用语义化的标签，这样可以省去很多不必要的css。
5. 如果你要使用前端框架（比如bootstrap），请确保在用户加载之前去除掉多余的资源，很多框架都提供了自定义构建选项，在你下载它的时候，可以根据你的需求来选择组件而不是全部打包。

##### 简化CSS
1. 移除未使用的冗余样式。
2. 合并及精简样式，对于一些全站通用的样式，如按钮样式，链接样式等等，你可以将它们写在单独的一个样式表中，这样你就可以不用重复定义它们了。
3. 精简网络字体的使用。

### 优化HTML和CSS加载
1. 在`<head>`中加载CSS。
2. 在页面最后加载JavaScript。
3. 在css的加载中加入加载条件，比如`print`或`min-width:61.5em`，这样的话在某些条件下浏览器就不用加载额外的css了。
4. 谨慎使用第三方网站提供的脚本，因为它们脚本的加载时间是你无法掌控的。
5. 在正式网站上使用压缩过的css和JavaScript脚本。
6. 将静态资源设置为缓存，比如css，js，图片，pdf，字体，这样浏览器就可以不用重复加载了。

### 对响应式网站的优化
##### 选择合适尺寸的照片
对不同的屏幕大小准备不同的图片，这样手机用户就不用等待加载高清图片时间了。
##### 选择合适的字体
对不同的屏幕准备不同的字体，在小屏幕中，人们对字体区别的感知很弱，这样我们可以在小屏幕中使用普通字体，在大屏幕上使用网络字体，可以显著减少手机用户的网站加载时间。

### 评估性能的工具
##### YSLOW
[Yslow](http://yslow.org/)可以对网站的页面进行分析，并告诉你为了提高网站性能，如何基于某些规则而进行优化。 YSlow可以分析任何网站，并为每一个规则产生一个整体报告，如果页面可以进行优化，则YSlow会列出具体的修改意见。

##### Chrome开发者工具
这个就不多介绍了，相信各位前端er已经很熟悉了。╮(╯▽╰)╭

##### WebPageTest
[WebPageTest](http://www.webpagetest.org/)原本是由AOL开发内部使用的工具，后来在Google Code上开源， 是一款非常优秀的网页前端性能测试工具。

### 维护
对维护者来说，随着网站不断的扩大，内容不断的增多，怎么样才能持续保持网站的高性能呢？这本书也给出了一些建议。
##### 图片
有新图片加入网站时，确保你对它们进行了合理的压缩。如果你不是内容的创作者（内容由用户产生），那么你要经常对用户上传的图片进行维护。

##### 团队
将你的确保网站性能的规则写进文档，给网站的其他开发者阅读，最好所有的网站开发者都能遵守一个统一的高性能规则。

最好的是，你有一个专门的团队或人员来负责网站的性能维护。
